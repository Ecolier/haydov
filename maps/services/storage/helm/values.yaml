fullnameOverride: storage

extraVolumes:
  - name: scripts-volume
    configMap:
      name: storage-scripts

extraVolumeMounts:
  - name: scripts-volume
    mountPath: /scripts

command: ["/bin/sh"]
args:
  - /scripts/start.sh

auth:
  existingSecret: storage-credentials
  rootUserSecretKey: STORAGE_USERNAME
  rootPasswordSecretKey: STORAGE_PASSWORD

extraEnvVars:
  - name: MINIO_NOTIFY_AMQP_ENABLE_PRIMARY
    value: "on"

extraEnvVarsCM: storage-config
extraEnvVarsSecret: storage-credentials

persistence:
  enabled: false

resources:
  requests:
    memory: 512Mi
    cpu: 250m

readinessProbe:
  enabled: true
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 5

service:
  type: ClusterIP